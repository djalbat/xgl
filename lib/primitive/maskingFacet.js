"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "default", {
    enumerable: true,
    get: function() {
        return MaskingFacet;
    }
});
const _masking = /*#__PURE__*/ _interop_require_default(require("./edge/masking"));
const _verticalLine = /*#__PURE__*/ _interop_require_default(require("./verticalLine"));
const _array = require("../utilities/array");
const _vertices = require("../utilities/vertices");
const _constants = require("../constants");
const _quaternion = require("../utilities/quaternion");
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
class MaskingFacet {
    constructor(maskingEdges, verticalLines, forwardsRotationQuaternion, backwardsRotationQuaternion){
        this.maskingEdges = maskingEdges;
        this.verticalLines = verticalLines;
        this.forwardsRotationQuaternion = forwardsRotationQuaternion;
        this.backwardsRotationQuaternion = backwardsRotationQuaternion;
    }
    getMaskingEdges() {
        return this.maskingEdges;
    }
    getVerticalLines() {
        return this.verticalLines;
    }
    getForwardsRotationQuaternion() {
        return this.forwardsRotationQuaternion;
    }
    getBackwardsRotationQuaternion() {
        return this.backwardsRotationQuaternion;
    }
    maskFacet(facet, unmaskedFacets, marginOfError) {
        const unmaskedFacet = facet.clone(); ///
        facet.rotate(this.forwardsRotationQuaternion);
        const maskingFacet = this, smallerFacets = this.splitFacet(facet, marginOfError), maskedSmallerFacets = [], unmaskedSmallerFacets = [];
        (0, _array.separate)(smallerFacets, maskedSmallerFacets, unmaskedSmallerFacets, (smallerFacet)=>{
            const smallerFacetMasked = smallerFacet.isMasked(maskingFacet);
            return smallerFacetMasked;
        });
        const maskedSmallerFacetsLength = maskedSmallerFacets.length;
        if (maskedSmallerFacetsLength === 0) {
            unmaskedFacets.push(unmaskedFacet);
        } else {
            unmaskedSmallerFacets.forEach((unmaskedSmallerFacet)=>{
                unmaskedSmallerFacet.rotate(this.backwardsRotationQuaternion);
            });
            (0, _array.add)(unmaskedFacets, unmaskedSmallerFacets);
        }
    }
    splitFacet(facet, marginOfError) {
        let facets = [
            facet
        ], smallerFacets = facets; ///
        this.verticalLines.forEach((verticalLine)=>{
            smallerFacets = verticalLine.splitFacets(facets, marginOfError);
            facets = smallerFacets; ///
        });
        return smallerFacets;
    }
    static fromFacet(facet) {
        const facetNormal = facet.getNormal(), facetVertices = facet.getVertices(), normal = facetNormal, arbitraryRotationQuaternion = (0, _quaternion.calculateArbitraryRotationQuaternion)(normal), rotationQuaternion = arbitraryRotationQuaternion, vertices = (0, _vertices.rotateVertices)(facetVertices, rotationQuaternion), maskingEdges = calculateMaskingEdges(vertices), verticalLines = maskingEdges.map((maskingEdge)=>{
            const verticalLine = _verticalLine.default.fromMaskingEdge(maskingEdge);
            return verticalLine;
        }), forwardsRotationQuaternion = (0, _quaternion.calculateForwardsRotationQuaternion)(rotationQuaternion), backwardsRotationQuaternion = (0, _quaternion.calculateBackwardsRotationQuaternion)(rotationQuaternion), maskingFacet = new MaskingFacet(maskingEdges, verticalLines, forwardsRotationQuaternion, backwardsRotationQuaternion);
        return maskingFacet;
    }
}
function calculateMaskingEdges(vertices) {
    const maskingEdges = vertices.map((vertex, index)=>{
        const startIndex = index, endIndex = (startIndex + 1) % _constants.VERTICES_LENGTH, startVertex = vertices[startIndex], endVertex = vertices[endIndex], maskingEdge = _masking.default.fromStartVertexAndEndVertex(startVertex, endVertex);
        return maskingEdge;
    });
    return maskingEdges;
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9wcmltaXRpdmUvbWFza2luZ0ZhY2V0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5pbXBvcnQgTWFza2luZ0VkZ2UgZnJvbSBcIi4vZWRnZS9tYXNraW5nXCI7XG5pbXBvcnQgVmVydGljYWxMaW5lIGZyb20gXCIuL3ZlcnRpY2FsTGluZVwiO1xuXG5pbXBvcnQgeyBhZGQsIHNlcGFyYXRlIH0gZnJvbSBcIi4uL3V0aWxpdGllcy9hcnJheVwiO1xuaW1wb3J0IHsgcm90YXRlVmVydGljZXMgfSBmcm9tIFwiLi4vdXRpbGl0aWVzL3ZlcnRpY2VzXCI7XG5pbXBvcnQgeyBWRVJUSUNFU19MRU5HVEggfSBmcm9tIFwiLi4vY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBjYWxjdWxhdGVGb3J3YXJkc1JvdGF0aW9uUXVhdGVybmlvbiwgY2FsY3VsYXRlQXJiaXRyYXJ5Um90YXRpb25RdWF0ZXJuaW9uLCBjYWxjdWxhdGVCYWNrd2FyZHNSb3RhdGlvblF1YXRlcm5pb24gfSBmcm9tIFwiLi4vdXRpbGl0aWVzL3F1YXRlcm5pb25cIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWFza2luZ0ZhY2V0IHtcbiAgY29uc3RydWN0b3IobWFza2luZ0VkZ2VzLCB2ZXJ0aWNhbExpbmVzLCBmb3J3YXJkc1JvdGF0aW9uUXVhdGVybmlvbiwgYmFja3dhcmRzUm90YXRpb25RdWF0ZXJuaW9uKSB7XG4gICAgdGhpcy5tYXNraW5nRWRnZXMgPSBtYXNraW5nRWRnZXM7XG4gICAgdGhpcy52ZXJ0aWNhbExpbmVzID0gdmVydGljYWxMaW5lcztcbiAgICB0aGlzLmZvcndhcmRzUm90YXRpb25RdWF0ZXJuaW9uID0gZm9yd2FyZHNSb3RhdGlvblF1YXRlcm5pb247XG4gICAgdGhpcy5iYWNrd2FyZHNSb3RhdGlvblF1YXRlcm5pb24gPSBiYWNrd2FyZHNSb3RhdGlvblF1YXRlcm5pb247XG4gIH1cblxuICBnZXRNYXNraW5nRWRnZXMoKSB7XG4gICAgcmV0dXJuIHRoaXMubWFza2luZ0VkZ2VzO1xuICB9XG5cbiAgZ2V0VmVydGljYWxMaW5lcygpIHtcbiAgICByZXR1cm4gdGhpcy52ZXJ0aWNhbExpbmVzO1xuICB9XG5cbiAgZ2V0Rm9yd2FyZHNSb3RhdGlvblF1YXRlcm5pb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuZm9yd2FyZHNSb3RhdGlvblF1YXRlcm5pb247XG4gIH1cblxuICBnZXRCYWNrd2FyZHNSb3RhdGlvblF1YXRlcm5pb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuYmFja3dhcmRzUm90YXRpb25RdWF0ZXJuaW9uO1xuICB9XG5cbiAgbWFza0ZhY2V0KGZhY2V0LCB1bm1hc2tlZEZhY2V0cywgbWFyZ2luT2ZFcnJvcikge1xuICAgIGNvbnN0IHVubWFza2VkRmFjZXQgPSBmYWNldC5jbG9uZSgpOyAgLy8vXG5cbiAgICBmYWNldC5yb3RhdGUodGhpcy5mb3J3YXJkc1JvdGF0aW9uUXVhdGVybmlvbik7XG5cbiAgICBjb25zdCBtYXNraW5nRmFjZXQgPSB0aGlzLCAgLy8vXG4gICAgICAgICAgc21hbGxlckZhY2V0cyA9IHRoaXMuc3BsaXRGYWNldChmYWNldCwgbWFyZ2luT2ZFcnJvciksXG4gICAgICAgICAgbWFza2VkU21hbGxlckZhY2V0cyA9IFtdLFxuICAgICAgICAgIHVubWFza2VkU21hbGxlckZhY2V0cyA9IFtdO1xuXG4gICAgc2VwYXJhdGUoc21hbGxlckZhY2V0cywgbWFza2VkU21hbGxlckZhY2V0cywgdW5tYXNrZWRTbWFsbGVyRmFjZXRzLCAoc21hbGxlckZhY2V0KSA9PiB7XG4gICAgICBjb25zdCBzbWFsbGVyRmFjZXRNYXNrZWQgPSBzbWFsbGVyRmFjZXQuaXNNYXNrZWQobWFza2luZ0ZhY2V0KTtcblxuICAgICAgcmV0dXJuIHNtYWxsZXJGYWNldE1hc2tlZDtcbiAgICB9KTtcblxuICAgIGNvbnN0IG1hc2tlZFNtYWxsZXJGYWNldHNMZW5ndGggPSBtYXNrZWRTbWFsbGVyRmFjZXRzLmxlbmd0aDtcblxuICAgIGlmIChtYXNrZWRTbWFsbGVyRmFjZXRzTGVuZ3RoID09PSAwKSB7XG4gICAgICB1bm1hc2tlZEZhY2V0cy5wdXNoKHVubWFza2VkRmFjZXQpO1xuICAgIH0gZWxzZSB7XG4gICAgICB1bm1hc2tlZFNtYWxsZXJGYWNldHMuZm9yRWFjaCgodW5tYXNrZWRTbWFsbGVyRmFjZXQpID0+IHtcbiAgICAgICAgdW5tYXNrZWRTbWFsbGVyRmFjZXQucm90YXRlKHRoaXMuYmFja3dhcmRzUm90YXRpb25RdWF0ZXJuaW9uKTtcbiAgICAgIH0pO1xuXG4gICAgICBhZGQodW5tYXNrZWRGYWNldHMsIHVubWFza2VkU21hbGxlckZhY2V0cyk7XG4gICAgfVxuICB9XG4gIFxuICBzcGxpdEZhY2V0KGZhY2V0LCBtYXJnaW5PZkVycm9yKSB7XG4gICAgbGV0IGZhY2V0cyA9IFtcbiAgICAgICAgICBmYWNldFxuICAgICAgICBdLFxuICAgICAgICBzbWFsbGVyRmFjZXRzID0gZmFjZXRzOyAvLy9cblxuICAgIHRoaXMudmVydGljYWxMaW5lcy5mb3JFYWNoKCh2ZXJ0aWNhbExpbmUpID0+IHtcbiAgICAgIHNtYWxsZXJGYWNldHMgPSB2ZXJ0aWNhbExpbmUuc3BsaXRGYWNldHMoZmFjZXRzLCBtYXJnaW5PZkVycm9yKTtcblxuICAgICAgZmFjZXRzID0gc21hbGxlckZhY2V0czsgLy8vXG4gICAgfSk7XG5cbiAgICByZXR1cm4gc21hbGxlckZhY2V0cztcbiAgfVxuXG4gIHN0YXRpYyBmcm9tRmFjZXQoZmFjZXQpIHtcbiAgICBjb25zdCBmYWNldE5vcm1hbCA9IGZhY2V0LmdldE5vcm1hbCgpLFxuICAgICAgICAgIGZhY2V0VmVydGljZXMgPSBmYWNldC5nZXRWZXJ0aWNlcygpLFxuICAgICAgICAgIG5vcm1hbCA9IGZhY2V0Tm9ybWFsLCAvLy9cbiAgICAgICAgICBhcmJpdHJhcnlSb3RhdGlvblF1YXRlcm5pb24gPSBjYWxjdWxhdGVBcmJpdHJhcnlSb3RhdGlvblF1YXRlcm5pb24obm9ybWFsKSxcbiAgICAgICAgICByb3RhdGlvblF1YXRlcm5pb24gPSBhcmJpdHJhcnlSb3RhdGlvblF1YXRlcm5pb24sIC8vL1xuICAgICAgICAgIHZlcnRpY2VzID0gcm90YXRlVmVydGljZXMoZmFjZXRWZXJ0aWNlcywgcm90YXRpb25RdWF0ZXJuaW9uKSxcbiAgICAgICAgICBtYXNraW5nRWRnZXMgPSBjYWxjdWxhdGVNYXNraW5nRWRnZXModmVydGljZXMpLFxuICAgICAgICAgIHZlcnRpY2FsTGluZXMgPSBtYXNraW5nRWRnZXMubWFwKChtYXNraW5nRWRnZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdmVydGljYWxMaW5lID0gVmVydGljYWxMaW5lLmZyb21NYXNraW5nRWRnZShtYXNraW5nRWRnZSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHJldHVybiB2ZXJ0aWNhbExpbmU7XG4gICAgICAgICAgfSksXG4gICAgICAgICAgZm9yd2FyZHNSb3RhdGlvblF1YXRlcm5pb24gPSBjYWxjdWxhdGVGb3J3YXJkc1JvdGF0aW9uUXVhdGVybmlvbihyb3RhdGlvblF1YXRlcm5pb24pLFxuICAgICAgICAgIGJhY2t3YXJkc1JvdGF0aW9uUXVhdGVybmlvbiA9IGNhbGN1bGF0ZUJhY2t3YXJkc1JvdGF0aW9uUXVhdGVybmlvbihyb3RhdGlvblF1YXRlcm5pb24pLFxuICAgICAgICAgIG1hc2tpbmdGYWNldCA9IG5ldyBNYXNraW5nRmFjZXQobWFza2luZ0VkZ2VzLCB2ZXJ0aWNhbExpbmVzLCBmb3J3YXJkc1JvdGF0aW9uUXVhdGVybmlvbiwgYmFja3dhcmRzUm90YXRpb25RdWF0ZXJuaW9uKTtcblxuICAgIHJldHVybiBtYXNraW5nRmFjZXQ7XG4gIH1cbn1cblxuZnVuY3Rpb24gY2FsY3VsYXRlTWFza2luZ0VkZ2VzKHZlcnRpY2VzKSB7XG4gIGNvbnN0IG1hc2tpbmdFZGdlcyA9IHZlcnRpY2VzLm1hcCgodmVydGV4LCBpbmRleCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHN0YXJ0SW5kZXggPSBpbmRleCxcbiAgICAgICAgICAgICAgICBlbmRJbmRleCA9IChzdGFydEluZGV4ICsgMSkgJSBWRVJUSUNFU19MRU5HVEgsXG4gICAgICAgICAgICAgICAgc3RhcnRWZXJ0ZXggPSB2ZXJ0aWNlc1tzdGFydEluZGV4XSxcbiAgICAgICAgICAgICAgICBlbmRWZXJ0ZXggPSB2ZXJ0aWNlc1tlbmRJbmRleF0sXG4gICAgICAgICAgICAgICAgbWFza2luZ0VkZ2UgPSBNYXNraW5nRWRnZS5mcm9tU3RhcnRWZXJ0ZXhBbmRFbmRWZXJ0ZXgoc3RhcnRWZXJ0ZXgsIGVuZFZlcnRleCk7XG5cbiAgICAgICAgICByZXR1cm4gbWFza2luZ0VkZ2U7XG4gICAgICAgIH0pO1xuXG4gIHJldHVybiBtYXNraW5nRWRnZXM7XG59XG4iXSwibmFtZXMiOlsiTWFza2luZ0ZhY2V0IiwibWFza2luZ0VkZ2VzIiwidmVydGljYWxMaW5lcyIsImZvcndhcmRzUm90YXRpb25RdWF0ZXJuaW9uIiwiYmFja3dhcmRzUm90YXRpb25RdWF0ZXJuaW9uIiwiZ2V0TWFza2luZ0VkZ2VzIiwiZ2V0VmVydGljYWxMaW5lcyIsImdldEZvcndhcmRzUm90YXRpb25RdWF0ZXJuaW9uIiwiZ2V0QmFja3dhcmRzUm90YXRpb25RdWF0ZXJuaW9uIiwibWFza0ZhY2V0IiwiZmFjZXQiLCJ1bm1hc2tlZEZhY2V0cyIsIm1hcmdpbk9mRXJyb3IiLCJ1bm1hc2tlZEZhY2V0IiwiY2xvbmUiLCJyb3RhdGUiLCJtYXNraW5nRmFjZXQiLCJzbWFsbGVyRmFjZXRzIiwic3BsaXRGYWNldCIsIm1hc2tlZFNtYWxsZXJGYWNldHMiLCJ1bm1hc2tlZFNtYWxsZXJGYWNldHMiLCJzZXBhcmF0ZSIsInNtYWxsZXJGYWNldCIsInNtYWxsZXJGYWNldE1hc2tlZCIsImlzTWFza2VkIiwibWFza2VkU21hbGxlckZhY2V0c0xlbmd0aCIsImxlbmd0aCIsInB1c2giLCJmb3JFYWNoIiwidW5tYXNrZWRTbWFsbGVyRmFjZXQiLCJhZGQiLCJmYWNldHMiLCJ2ZXJ0aWNhbExpbmUiLCJzcGxpdEZhY2V0cyIsImZyb21GYWNldCIsImZhY2V0Tm9ybWFsIiwiZ2V0Tm9ybWFsIiwiZmFjZXRWZXJ0aWNlcyIsImdldFZlcnRpY2VzIiwibm9ybWFsIiwiYXJiaXRyYXJ5Um90YXRpb25RdWF0ZXJuaW9uIiwiY2FsY3VsYXRlQXJiaXRyYXJ5Um90YXRpb25RdWF0ZXJuaW9uIiwicm90YXRpb25RdWF0ZXJuaW9uIiwidmVydGljZXMiLCJyb3RhdGVWZXJ0aWNlcyIsImNhbGN1bGF0ZU1hc2tpbmdFZGdlcyIsIm1hcCIsIm1hc2tpbmdFZGdlIiwiVmVydGljYWxMaW5lIiwiZnJvbU1hc2tpbmdFZGdlIiwiY2FsY3VsYXRlRm9yd2FyZHNSb3RhdGlvblF1YXRlcm5pb24iLCJjYWxjdWxhdGVCYWNrd2FyZHNSb3RhdGlvblF1YXRlcm5pb24iLCJ2ZXJ0ZXgiLCJpbmRleCIsInN0YXJ0SW5kZXgiLCJlbmRJbmRleCIsIlZFUlRJQ0VTX0xFTkdUSCIsInN0YXJ0VmVydGV4IiwiZW5kVmVydGV4IiwiTWFza2luZ0VkZ2UiLCJmcm9tU3RhcnRWZXJ0ZXhBbmRFbmRWZXJ0ZXgiXSwibWFwcGluZ3MiOiJBQUFBOzs7OytCQVVBOzs7ZUFBcUJBOzs7Z0VBUkc7cUVBQ0M7dUJBRUs7MEJBQ0M7MkJBQ0M7NEJBQ2dHOzs7Ozs7QUFFakgsTUFBTUE7SUFDbkIsWUFBWUMsWUFBWSxFQUFFQyxhQUFhLEVBQUVDLDBCQUEwQixFQUFFQywyQkFBMkIsQ0FBRTtRQUNoRyxJQUFJLENBQUNILFlBQVksR0FBR0E7UUFDcEIsSUFBSSxDQUFDQyxhQUFhLEdBQUdBO1FBQ3JCLElBQUksQ0FBQ0MsMEJBQTBCLEdBQUdBO1FBQ2xDLElBQUksQ0FBQ0MsMkJBQTJCLEdBQUdBO0lBQ3JDO0lBRUFDLGtCQUFrQjtRQUNoQixPQUFPLElBQUksQ0FBQ0osWUFBWTtJQUMxQjtJQUVBSyxtQkFBbUI7UUFDakIsT0FBTyxJQUFJLENBQUNKLGFBQWE7SUFDM0I7SUFFQUssZ0NBQWdDO1FBQzlCLE9BQU8sSUFBSSxDQUFDSiwwQkFBMEI7SUFD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