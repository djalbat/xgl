"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "default", {
    enumerable: true,
    get: function() {
        return TexturedCanvasElement;
    }
});
const _canvas = /*#__PURE__*/ _interop_require_default(require("../../element/canvas"));
const _textured = /*#__PURE__*/ _interop_require_default(require("../../primitive/facet/textured"));
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
class TexturedCanvasElement extends _canvas.default {
    constructor(maskReference, transform, facets, masks, coordinates, indexes, imageName, textureCoordinates){
        super(maskReference, transform, facets, masks);
        this.coordinates = coordinates;
        this.indexes = indexes;
        this.imageName = imageName;
        this.textureCoordinates = textureCoordinates;
    }
    createFacets(marginOfError) {
        super.createFacets(marginOfError);
        const indexTuples = this.indexes, facets = indexTuples.reduce((facets, indexTuple, index)=>{
            const vertexTextureCoordinateTuples = this.textureCoordinates[index], coordinateTuples = this.coordinates, texturedFacet = _textured.default.fromTextureCoordinateTuplesCoordinatesTuplesIndexTupleImageNameAndMarginOfError(vertexTextureCoordinateTuples, coordinateTuples, indexTuple, this.imageName, marginOfError), facet = texturedFacet; ///
            if (facet !== null) {
                facets.push(facet);
            }
            return facets;
        }, []);
        this.setFacets(facets);
    }
    addFacets(colourRenderer, textureRenderer) {
        const facets = this.getFacets();
        textureRenderer.addFacets(facets);
        super.addFacets(colourRenderer, textureRenderer);
    }
    static fromProperties(Class, properties, coordinates, indexes, imageName, textureCoordinates, ...remainingArguments) {
        return _canvas.default.fromProperties(Class, properties, coordinates, indexes, imageName, textureCoordinates, ...remainingArguments);
    }
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9lbGVtZW50L2NhbnZhcy90ZXh0dXJlZC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuaW1wb3J0IENhbnZhc0VsZW1lbnQgZnJvbSBcIi4uLy4uL2VsZW1lbnQvY2FudmFzXCI7XG5pbXBvcnQgVGV4dHVyZWRGYWNldCBmcm9tIFwiLi4vLi4vcHJpbWl0aXZlL2ZhY2V0L3RleHR1cmVkXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRleHR1cmVkQ2FudmFzRWxlbWVudCBleHRlbmRzIENhbnZhc0VsZW1lbnQge1xuICBjb25zdHJ1Y3RvcihtYXNrUmVmZXJlbmNlLCB0cmFuc2Zvcm0sIGZhY2V0cywgbWFza3MsIGNvb3JkaW5hdGVzLCBpbmRleGVzLCBpbWFnZU5hbWUsIHRleHR1cmVDb29yZGluYXRlcykge1xuICAgIHN1cGVyKG1hc2tSZWZlcmVuY2UsIHRyYW5zZm9ybSwgZmFjZXRzLCBtYXNrcyk7XG5cbiAgICB0aGlzLmNvb3JkaW5hdGVzID0gY29vcmRpbmF0ZXM7XG4gICAgdGhpcy5pbmRleGVzID0gaW5kZXhlcztcbiAgICB0aGlzLmltYWdlTmFtZSA9IGltYWdlTmFtZTtcbiAgICB0aGlzLnRleHR1cmVDb29yZGluYXRlcyA9IHRleHR1cmVDb29yZGluYXRlcztcbiAgfVxuXG4gIGNyZWF0ZUZhY2V0cyhtYXJnaW5PZkVycm9yKSB7XG4gICAgc3VwZXIuY3JlYXRlRmFjZXRzKG1hcmdpbk9mRXJyb3IpO1xuXG4gICAgY29uc3QgaW5kZXhUdXBsZXMgPSB0aGlzLmluZGV4ZXMsICAvLy9cbiAgICAgICAgICBmYWNldHMgPSBpbmRleFR1cGxlcy5yZWR1Y2UoKGZhY2V0cywgaW5kZXhUdXBsZSwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgY29uc3QgdmVydGV4VGV4dHVyZUNvb3JkaW5hdGVUdXBsZXMgPSB0aGlzLnRleHR1cmVDb29yZGluYXRlc1tpbmRleF0sIC8vL1xuICAgICAgICAgICAgICAgICAgICBjb29yZGluYXRlVHVwbGVzID0gdGhpcy5jb29yZGluYXRlcywgLy8vXG4gICAgICAgICAgICAgICAgICAgIHRleHR1cmVkRmFjZXQgPSBUZXh0dXJlZEZhY2V0LmZyb21UZXh0dXJlQ29vcmRpbmF0ZVR1cGxlc0Nvb3JkaW5hdGVzVHVwbGVzSW5kZXhUdXBsZUltYWdlTmFtZUFuZE1hcmdpbk9mRXJyb3IodmVydGV4VGV4dHVyZUNvb3JkaW5hdGVUdXBsZXMsIGNvb3JkaW5hdGVUdXBsZXMsIGluZGV4VHVwbGUsIHRoaXMuaW1hZ2VOYW1lLCBtYXJnaW5PZkVycm9yKSxcbiAgICAgICAgICAgICAgICAgICAgZmFjZXQgPSB0ZXh0dXJlZEZhY2V0OyAgLy8vXG5cbiAgICAgICAgICAgIGlmIChmYWNldCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICBmYWNldHMucHVzaChmYWNldCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBmYWNldHM7XG4gICAgICAgICAgfSwgW10pO1xuXG4gICAgdGhpcy5zZXRGYWNldHMoZmFjZXRzKTtcbiAgfVxuXG4gIGFkZEZhY2V0cyhjb2xvdXJSZW5kZXJlciwgdGV4dHVyZVJlbmRlcmVyKSB7XG4gICAgY29uc3QgZmFjZXRzID0gdGhpcy5nZXRGYWNldHMoKTtcblxuICAgIHRleHR1cmVSZW5kZXJlci5hZGRGYWNldHMoZmFjZXRzKTtcblxuICAgIHN1cGVyLmFkZEZhY2V0cyhjb2xvdXJSZW5kZXJlciwgdGV4dHVyZVJlbmRlcmVyKTtcbiAgfVxuXG4gIHN0YXRpYyBmcm9tUHJvcGVydGllcyhDbGFzcywgcHJvcGVydGllcywgY29vcmRpbmF0ZXMsIGluZGV4ZXMsIGltYWdlTmFtZSwgdGV4dHVyZUNvb3JkaW5hdGVzLCAuLi5yZW1haW5pbmdBcmd1bWVudHMpIHsgcmV0dXJuIENhbnZhc0VsZW1lbnQuZnJvbVByb3BlcnRpZXMoQ2xhc3MsIHByb3BlcnRpZXMsIGNvb3JkaW5hdGVzLCBpbmRleGVzLCBpbWFnZU5hbWUsIHRleHR1cmVDb29yZGluYXRlcywgLi4ucmVtYWluaW5nQXJndW1lbnRzKTsgfVxufVxuIl0sIm5hbWVzIjpbIlRleHR1cmVkQ2FudmFzRWxlbWVudCIsIkNhbnZhc0VsZW1lbnQiLCJtYXNrUmVmZXJlbmNlIiwidHJhbnNmb3JtIiwiZmFjZXRzIiwibWFza3MiLCJjb29yZGluYXRlcyIsImluZGV4ZXMiLCJpbWFnZU5hbWUiLCJ0ZXh0dXJlQ29vcmRpbmF0ZXMiLCJjcmVhdGVGYWNldHMiLCJtYXJnaW5PZkVycm9yIiwiaW5kZXhUdXBsZXMiLCJyZWR1Y2UiLCJpbmRleFR1cGxlIiwiaW5kZXgiLCJ2ZXJ0ZXhUZXh0dXJlQ29vcmRpbmF0ZVR1cGxlcyIsImNvb3JkaW5hdGVUdXBsZXMiLCJ0ZXh0dXJlZEZhY2V0IiwiVGV4dHVyZWRGYWNldCIsImZyb21UZXh0dXJlQ29vcmRpbmF0ZVR1cGxlc0Nvb3JkaW5hdGVzVHVwbGVzSW5kZXhUdXBsZUltYWdlTmFtZUFuZE1hcmdpbk9mRXJyb3IiLCJmYWNldCIsInB1c2giLCJzZXRGYWNldHMiLCJhZGRGYWNldHMiLCJjb2xvdXJSZW5kZXJlciIsInRleHR1cmVSZW5kZXJlciIsImdldEZhY2V0cyIsImZyb21Qcm9wZXJ0aWVzIiwiQ2xhc3MiLCJwcm9wZXJ0aWVzIiwicmVtYWluaW5nQXJndW1lbnRzIl0sIm1hcHBpbmdzIjoiQUFBQTs7OzsrQkFLQTs7O2VBQXFCQTs7OytEQUhLO2lFQUNBOzs7Ozs7QUFFWCxNQUFNQSw4QkFBOEJDLGVBQWE7SUFDOUQsWUFBWUMsYUFBYSxFQUFFQyxTQUFTLEVBQUVDLE1BQU0sRUFBRUMsS0FBSyxFQUFFQyxXQUFXLEVBQUVDLE9BQU8sRUFBRUMsU0FBUyxFQUFFQyxrQkFBa0IsQ0FBRTtRQUN4RyxLQUFLLENBQUNQLGVBQWVDLFdBQVdDLFFBQVFDO1FBRXhDLElBQUksQ0FBQ0MsV0FBVyxHQUFHQTtRQUNuQixJQUFJLENBQUNDLE9BQU8sR0FBR0E7UUFDZixJQUFJLENBQUNDLFNBQVMsR0FBR0E7UUFDakIsSUFBSSxDQUFDQyxrQkFBa0IsR0FBR0E7SUFDNUI7SUFFQUMsYUFBYUMsYUFBYSxFQUFFO1FBQzFCLEtBQUssQ0FBQ0QsYUFBYUM7UUFFbkIsTUFBTUMsY0FBYyxJQUFJLENBQUNMLE9BQU8sRUFDMUJILFNBQVNRLFlBQVlDLE1BQU0sQ0FBQyxDQUFDVCxRQUFRVSxZQUFZQztZQUM3QyxNQUFNQyxnQ0FBZ0MsSUFBSSxDQUFDUCxrQkFBa0IsQ0FBQ00sTUFBTSxFQUM5REUsbUJBQW1CLElBQUksQ0FBQ1gsV0FBVyxFQUNuQ1ksZ0JBQWdCQyxpQkFBYSxDQUFDQywrRUFBK0UsQ0FBQ0osK0JBQStCQyxrQkFBa0JILFlBQVksSUFBSSxDQUFDTixTQUFTLEVBQUVHLGdCQUMzTFUsUUFBUUgsZUFBZ0IsR0FBRztZQUVuQyxJQUFJRyxVQUFVLE1BQU07Z0JBQ2xCakIsT0FBT2tCLElBQUksQ0FBQ0Q7WUFDZDtZQUVBLE9BQU9qQjtRQUNULEdBQUcsRUFBRTtRQUVYLElBQUksQ0FBQ21CLFNBQVMsQ0FBQ25CO0lBQ2pCO0lBRUFvQixVQUFVQyxjQUFjLEVBQUVDLGVBQWUsRUFBRTtRQUN6QyxNQUFNdEIsU0FBUyxJQUFJLENBQUN1QixTQUFTO1FBRTdCRCxnQkFBZ0JGLFNBQVMsQ0FBQ3BCO1FBRTFCLEtBQUssQ0FBQ29CLFVBQVVDLGdCQUFnQkM7SUFDbEM7SUFFQSxPQUFPRSxlQUFlQyxLQUFLLEVBQUVDLFVBQVUsRUFBRXhCLFdBQVcsRUFBRUMsT0FBTyxFQUFFQyxTQUFTLEVBQUVDLGtCQUFrQixFQUFFLEdBQUdzQixrQkFBa0IsRUFBRTtRQUFFLE9BQU85QixlQUFhLENBQUMyQixjQUFjLENBQUNDLE9BQU9DLFlBQVl4QixhQUFhQyxTQUFTQyxXQUFXQyx1QkFBdUJzQjtJQUFxQjtBQUM3UCJ9