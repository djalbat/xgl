"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: Object.getOwnPropertyDescriptor(all, name).get
    });
}
_export(exports, {
    get createProgram () {
        return createProgram;
    },
    get default () {
        return Renderer;
    }
});
const _array = require("./utilities/array");
class Renderer {
    constructor(facets, program, rendererData, rendererBuffers, uniformLocations, attributeLocations){
        this.facets = facets;
        this.program = program;
        this.rendererData = rendererData;
        this.rendererBuffers = rendererBuffers;
        this.uniformLocations = uniformLocations;
        this.attributeLocations = attributeLocations;
    }
    getFacets() {
        return this.facets;
    }
    getProgram() {
        return this.program;
    }
    getRendererData() {
        return this.rendererData;
    }
    getRendererBuffers() {
        return this.rendererBuffers;
    }
    getUniformLocations() {
        return this.uniformLocations;
    }
    getAttributeLocations() {
        return this.attributeLocations;
    }
    getCount() {
        return this.rendererData.getCount();
    }
    getOffsetsMatrixUniformLocation() {
        return this.uniformLocations.getOffsetsMatrixUniformLocation();
    }
    getNormalsMatrixUniformLocation() {
        return this.uniformLocations.getNormalsMatrixUniformLocation();
    }
    getPositionMatrixUniformLocation() {
        return this.uniformLocations.getPositionMatrixUniformLocation();
    }
    getRotationsMatrixUniformLocation() {
        return this.uniformLocations.getRotationsMatrixUniformLocation();
    }
    getProjectionMatrixUniformLocation() {
        return this.uniformLocations.getProjectionMatrixUniformLocation();
    }
    getVertexPositionAttributeLocation() {
        return this.attributeLocations.getVertexPositionAttributeLocation();
    }
    getVertexNormalAttributeLocation() {
        return this.attributeLocations.getVertexNormalAttributeLocation();
    }
    addFacets(facets) {
        (0, _array.add)(this.facets, facets);
    }
}
function createProgram(vertexShaderSource, fragmentShaderSource, canvas) {
    const vertexShader = canvas.createVertexShader(vertexShaderSource), fragmentShader = canvas.createFragmentShader(fragmentShaderSource), program = canvas.createProgram(vertexShader, fragmentShader);
    return program;
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9yZW5kZXJlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuaW1wb3J0IHsgYWRkIH0gZnJvbSBcIi4vdXRpbGl0aWVzL2FycmF5XCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJlbmRlcmVyIHtcbiAgY29uc3RydWN0b3IoZmFjZXRzLCBwcm9ncmFtLCByZW5kZXJlckRhdGEsIHJlbmRlcmVyQnVmZmVycywgdW5pZm9ybUxvY2F0aW9ucywgYXR0cmlidXRlTG9jYXRpb25zKSB7XG4gICAgdGhpcy5mYWNldHMgPSBmYWNldHM7XG4gICAgdGhpcy5wcm9ncmFtID0gcHJvZ3JhbTtcbiAgICB0aGlzLnJlbmRlcmVyRGF0YSA9IHJlbmRlcmVyRGF0YTtcbiAgICB0aGlzLnJlbmRlcmVyQnVmZmVycyA9IHJlbmRlcmVyQnVmZmVycztcbiAgICB0aGlzLnVuaWZvcm1Mb2NhdGlvbnMgPSB1bmlmb3JtTG9jYXRpb25zO1xuICAgIHRoaXMuYXR0cmlidXRlTG9jYXRpb25zID0gYXR0cmlidXRlTG9jYXRpb25zO1xuICB9XG5cbiAgZ2V0RmFjZXRzKCkge1xuICAgIHJldHVybiB0aGlzLmZhY2V0cztcbiAgfVxuXG4gIGdldFByb2dyYW0oKSB7XG4gICAgcmV0dXJuIHRoaXMucHJvZ3JhbTtcbiAgfVxuICBcbiAgZ2V0UmVuZGVyZXJEYXRhKCkge1xuICAgIHJldHVybiB0aGlzLnJlbmRlcmVyRGF0YTtcbiAgfVxuICBcbiAgZ2V0UmVuZGVyZXJCdWZmZXJzKCkge1xuICAgIHJldHVybiB0aGlzLnJlbmRlcmVyQnVmZmVycztcbiAgfVxuXG4gIGdldFVuaWZvcm1Mb2NhdGlvbnMoKSB7XG4gICAgcmV0dXJuIHRoaXMudW5pZm9ybUxvY2F0aW9ucztcbiAgfVxuXG4gIGdldEF0dHJpYnV0ZUxvY2F0aW9ucygpIHtcbiAgICByZXR1cm4gdGhpcy5hdHRyaWJ1dGVMb2NhdGlvbnM7XG4gIH1cblxuICBnZXRDb3VudCgpIHsgcmV0dXJuIHRoaXMucmVuZGVyZXJEYXRhLmdldENvdW50KCk7IH1cblxuICBnZXRPZmZzZXRzTWF0cml4VW5pZm9ybUxvY2F0aW9uKCkgeyByZXR1cm4gdGhpcy51bmlmb3JtTG9jYXRpb25zLmdldE9mZnNldHNNYXRyaXhVbmlmb3JtTG9jYXRpb24oKTsgfVxuXG4gIGdldE5vcm1hbHNNYXRyaXhVbmlmb3JtTG9jYXRpb24oKSB7IHJldHVybiB0aGlzLnVuaWZvcm1Mb2NhdGlvbnMuZ2V0Tm9ybWFsc01hdHJpeFVuaWZvcm1Mb2NhdGlvbigpOyB9XG5cbiAgZ2V0UG9zaXRpb25NYXRyaXhVbmlmb3JtTG9jYXRpb24oKSB7IHJldHVybiB0aGlzLnVuaWZvcm1Mb2NhdGlvbnMuZ2V0UG9zaXRpb25NYXRyaXhVbmlmb3JtTG9jYXRpb24oKTsgfVxuXG4gIGdldFJvdGF0aW9uc01hdHJpeFVuaWZvcm1Mb2NhdGlvbigpIHsgcmV0dXJuIHRoaXMudW5pZm9ybUxvY2F0aW9ucy5nZXRSb3RhdGlvbnNNYXRyaXhVbmlmb3JtTG9jYXRpb24oKTsgfVxuXG4gIGdldFByb2plY3Rpb25NYXRyaXhVbmlmb3JtTG9jYXRpb24oKSB7IHJldHVybiB0aGlzLnVuaWZvcm1Mb2NhdGlvbnMuZ2V0UHJvamVjdGlvbk1hdHJpeFVuaWZvcm1Mb2NhdGlvbigpOyB9XG5cbiAgZ2V0VmVydGV4UG9zaXRpb25BdHRyaWJ1dGVMb2NhdGlvbigpIHsgcmV0dXJuIHRoaXMuYXR0cmlidXRlTG9jYXRpb25zLmdldFZlcnRleFBvc2l0aW9uQXR0cmlidXRlTG9jYXRpb24oKTsgfVxuXG4gIGdldFZlcnRleE5vcm1hbEF0dHJpYnV0ZUxvY2F0aW9uKCkgeyByZXR1cm4gdGhpcy5hdHRyaWJ1dGVMb2NhdGlvbnMuZ2V0VmVydGV4Tm9ybWFsQXR0cmlidXRlTG9jYXRpb24oKTsgfVxuXG4gIGFkZEZhY2V0cyhmYWNldHMpIHtcbiAgICBhZGQodGhpcy5mYWNldHMsIGZhY2V0cyk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVByb2dyYW0odmVydGV4U2hhZGVyU291cmNlLCBmcmFnbWVudFNoYWRlclNvdXJjZSwgY2FudmFzKSB7XG4gIGNvbnN0IHZlcnRleFNoYWRlciA9IGNhbnZhcy5jcmVhdGVWZXJ0ZXhTaGFkZXIodmVydGV4U2hhZGVyU291cmNlKSxcbiAgICAgICAgZnJhZ21lbnRTaGFkZXIgPSBjYW52YXMuY3JlYXRlRnJhZ21lbnRTaGFkZXIoZnJhZ21lbnRTaGFkZXJTb3VyY2UpLFxuICAgICAgICBwcm9ncmFtID0gY2FudmFzLmNyZWF0ZVByb2dyYW0odmVydGV4U2hhZGVyLCBmcmFnbWVudFNoYWRlcik7XG4gIFxuICByZXR1cm4gcHJvZ3JhbTtcbn1cbiJdLCJuYW1lcyI6WyJjcmVhdGVQcm9ncmFtIiwiUmVuZGVyZXIiLCJmYWNldHMiLCJwcm9ncmFtIiwicmVuZGVyZXJEYXRhIiwicmVuZGVyZXJCdWZmZXJzIiwidW5pZm9ybUxvY2F0aW9ucyIsImF0dHJpYnV0ZUxvY2F0aW9ucyIsImdldEZhY2V0cyIsImdldFByb2dyYW0iLCJnZXRSZW5kZXJlckRhdGEiLCJnZXRSZW5kZXJlckJ1ZmZlcnMiLCJnZXRVbmlmb3JtTG9jYXRpb25zIiwiZ2V0QXR0cmlidXRlTG9jYXRpb25zIiwiZ2V0Q291bnQiLCJnZXRPZmZzZXRzTWF0cml4VW5pZm9ybUxvY2F0aW9uIiwiZ2V0Tm9ybWFsc01hdHJpeFVuaWZvcm1Mb2NhdGlvbiIsImdldFBvc2l0aW9uTWF0cml4VW5pZm9ybUxvY2F0aW9uIiwiZ2V0Um90YXRpb25zTWF0cml4VW5pZm9ybUxvY2F0aW9uIiwiZ2V0UHJvamVjdGlvbk1hdHJpeFVuaWZvcm1Mb2NhdGlvbiIsImdldFZlcnRleFBvc2l0aW9uQXR0cmlidXRlTG9jYXRpb24iLCJnZXRWZXJ0ZXhOb3JtYWxBdHRyaWJ1dGVMb2NhdGlvbiIsImFkZEZhY2V0cyIsImFkZCIsInZlcnRleFNoYWRlclNvdXJjZSIsImZyYWdtZW50U2hhZGVyU291cmNlIiwiY2FudmFzIiwidmVydGV4U2hhZGVyIiwiY3JlYXRlVmVydGV4U2hhZGVyIiwiZnJhZ21lbnRTaGFkZXIiLCJjcmVhdGVGcmFnbWVudFNoYWRlciJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7Ozs7O1FBMkRnQkE7ZUFBQUE7O1FBdkRoQjtlQUFxQkM7Ozt1QkFGRDtBQUVMLE1BQU1BO0lBQ25CLFlBQVlDLE1BQU0sRUFBRUMsT0FBTyxFQUFFQyxZQUFZLEVBQUVDLGVBQWUsRUFBRUMsZ0JBQWdCLEVBQUVDLGtCQUFrQixDQUFFO1FBQ2hHLElBQUksQ0FBQ0wsTUFBTSxHQUFHQTtRQUNkLElBQUksQ0FBQ0MsT0FBTyxHQUFHQTtRQUNmLElBQUksQ0FBQ0MsWUFBWSxHQUFHQTtRQUNwQixJQUFJLENBQUNDLGVBQWUsR0FBR0E7UUFDdkIsSUFBSSxDQUFDQyxnQkFBZ0IsR0FBR0E7UUFDeEIsSUFBSSxDQUFDQyxrQkFBa0IsR0FBR0E7SUFDNUI7SUFFQUMsWUFBWTtRQUNWLE9BQU8sSUFBSSxDQUFDTixNQUFNO0lBQ3BCO0lBRUFPLGFBQWE7UUFDWCxPQUFPLElBQUksQ0FBQ04sT0FBTztJQUNyQjtJQUVBTyxrQkFBa0I7UUFDaEIsT0FBTyxJQUFJLENBQUNOLFlBQVk7SUFDMUI7SUFFQU8scUJBQXFCO1FBQ25CLE9BQU8sSUFBSSxDQUFDTixlQUFlO0lBQzdCO0lBRUFPLHNCQUFzQjtRQUNwQixPQUFPLElBQUksQ0FBQ04sZ0JBQWdCO0lBQzlCO0lBRUFPLHdCQUF3QjtRQUN0QixPQUFPLElBQUksQ0FBQ04sa0JBQWtCO0lBQ2hDO0lBRUFPLFdBQVc7UUFBRSxPQUFPLElBQUksQ0FBQ1YsWUFBWSxDQUFDVSxRQUFRO0lBQUk7SUFFbERDLGtDQUFrQztRQUFFLE9BQU8sSUFBSSxDQUFDVCxnQkFBZ0IsQ0FBQ1MsK0JBQStCO0lBQUk7SUFFcEdDLGtDQUFrQztRQUFFLE9BQU8sSUFBSSxDQUFDVixnQkFBZ0IsQ0FBQ1UsK0JBQStCO0lBQUk7SUFFcEdDLG1DQUFtQztRQUFFLE9BQU8sSUFBSSxDQUFDWCxnQkFBZ0IsQ0FBQ1csZ0NBQWdDO0lBQUk7SUFFdEdDLG9DQUFvQztRQUFFLE9BQU8sSUFBSSxDQUFDWixnQkFBZ0IsQ0FBQ1ksaUNBQWlDO0lBQUk7SUFFeEdDLHFDQUFxQztRQUFFLE9BQU8sSUFBSSxDQUFDYixnQkFBZ0IsQ0FBQ2Esa0NBQWtDO0lBQUk7SUFFMUdDLHFDQUFxQztRQUFFLE9BQU8sSUFBSSxDQUFDYixrQkFBa0IsQ0FBQ2Esa0NBQWtDO0lBQUk7SUFFNUdDLG1DQUFtQztRQUFFLE9BQU8sSUFBSSxDQUFDZCxrQkFBa0IsQ0FBQ2MsZ0NBQWdDO0lBQUk7SUFFeEdDLFVBQVVwQixNQUFNLEVBQUU7UUFDaEJxQixJQUFBQSxVQUFHLEVBQUMsSUFBSSxDQUFDckIsTUFBTSxFQUFFQTtJQUNuQjtBQUNGO0FBRU8sU0FBU0YsY0FBY3dCLGtCQUFrQixFQUFFQyxvQkFBb0IsRUFBRUMsTUFBTTtJQUM1RSxNQUFNQyxlQUFlRCxPQUFPRSxrQkFBa0IsQ0FBQ0oscUJBQ3pDSyxpQkFBaUJILE9BQU9JLG9CQUFvQixDQUFDTCx1QkFDN0N0QixVQUFVdUIsT0FBTzFCLGFBQWEsQ0FBQzJCLGNBQWNFO0lBRW5ELE9BQU8xQjtBQUNUIn0=